<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Выбор ячейки</title>
    <style>
        /* Стили для ячеек */
        .cell {
            display: inline-block;
            padding: 20px;
            margin: 10px;
            border: 1px solid #ccc;
            cursor: pointer;
            background-color: #B9F6CA; /* Изначально свободные ячейки зеленого цвета */
        }

        .cell.booked {
            background-color: #FFBABA; /* Ячейка занята */
        }

        .cell.reserved {
            background-color: #FFCC80; /* Ячейка забронирована */
        }
    </style>
</head>

<body>
    <h1>Выберите ячейку</h1>

    <div id="cellContainer">
        <!-- Здесь будут ячейки -->
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const cellContainer = document.getElementById('cellContainer');

            // Создаем ячейки
            for (let i = 1; i <= 5; i++) {
                const cell = document.createElement('div');
                cell.classList.add('cell');
                cell.dataset.id = i;
                cell.textContent = `Ячейка ${i}`;
                cellContainer.appendChild(cell);
            }

            const cells = document.querySelectorAll('.cell');

            cells.forEach(cell => {
                cell.addEventListener('click', () => {
                    const isBooked = cell.classList.contains('booked');
                    const isReserved = cell.classList.contains('reserved');

                    if (isBooked) {
                        alert('Ячейка занята, выберете другую!');
                    } else if (isReserved) {
                        const confirmCancel = confirm('Вы хотите отменить бронь на эту ячейку?');
                        if (confirmCancel) {
                            cell.classList.remove('reserved');
                            cell.classList.add('booked');
                            alert('Вы успешно отменили бронь на ячейке');
                        }
                    } else {
                        const confirmBooking = confirm(`Вы хотите забронировать ячейку ${cell.dataset.id}?`);
                        if (confirmBooking) {
                            cell.classList.remove('cell');
                            cell.classList.add('reserved');
                            alert(`Вы успешно забронировали ячейку ${cell.dataset.id}`);
                        }
                    }
                });
            });
        });
    </script>
</body>

</html>
